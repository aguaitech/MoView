# MoView 使用指南

<img src="./icon.png" alt="MoView Icon" width="100" />

MoView 会在检测到陌生人靠近时，自动将屏幕从「游戏/娱乐」切换回指定的工作应用。建议按照以下顺序完成首次配置：

1. **录入个人安全面孔**  – 让系统知道谁是「我」，避免自己被识别成访客。
2. **设定名单模式** – 选择黑名单或白名单，并配置具体应用。
3. **设置工作应用** – 列出需要自动切换到的常用工作软件。
4. **（可选）调整运动检测区域/灵敏度** – 只监控门或走廊，减少误触发。
5. **开启自动切换** – 完整配置后再打开自动切换开关。

---

## 1. 录入个人安全面孔
1. 保持摄像头预览开启（默认开启，可隐藏画面但需保持运行）。
2. 在右侧的 **安全面孔** 模块输入备注名（如「本人」「MoMo」）。
3. 点击「捕获安全面孔」，倒计时 3 秒后对准摄像头，系统会自动回到 MoView。
4. 建议捕获多种姿态（侧脸、戴口罩等），可重复添加。

> 成功识别到安全面孔后，实时状态中会显示「安全面孔：已识别」。遇到陌生人或强烈运动，仍会触发切换。

## 2. 设定名单模式
在 **名单模式** 下拉框中选择：
- **黑名单模式（默认）**：只有列表里的应用被视为游戏/娱乐，出现时触发切换。
- **白名单模式**：只有列表里的应用被视为「工作」，其他统统判定为娱乐。

根据模式维护对应名单：
- 「当运行下列应用时启动切换」（黑名单）
- 「以下应用被视为工作/白名单」（白名单）

可以使用快捷按钮：
- **添加当前前台**：先点击按钮，倒计时 3 秒内切换到目标应用，系统会自动回填信息，然后再回到 MoView。
- **浏览应用…**：通过文件或应用选择器挑选目标。

在设置完成后，需要点击「保存」按钮保存设置。

## 3. 设置工作应用
在 **工作应用候选** 区域按顺序列出工作软件：
1. 点击「新增」添加一行。
2. 可使用「使用当前前台应用」或「浏览应用…」快速录入。
3. 点击「保存」激活当前工作应用候选。
4. 按列表顺序尝试激活；若第一个失败继续尝试下一项。

## 4. 调整运动检测区域（可选）
- 默认检测整幅画面，灵敏度设为 **0.05**，更适合弱运动。
- 在实时状态面板中勾选「启用运动检测区域」，通过四个滑块调整检测矩形，仅监控门或入口。
- 区域会以虚线框叠在视频预览上，可将预览画面隐藏但检测仍在运行。

## 5. 开启自动切换
所有设置完成后：
1. 回到实时状态顶部，开启「访客来访时自动切换到工作软件」。
2. 可保持「启用摄像头预览」勾选，视需要选择是否显示画面。
3. 触发条件：
   4. 检测到陌生人脸或额外身体。
   5. 运动检测区域内的运动强度超过阈值。
   6. 当前前台应用命中黑名单（或在白名单模式下不在白名单中）。

触发后系统会按照工作应用列表依序激活，如遇冷却时间会在实时状态显示。

---

## 常见问题

### 识别不到人脸？
- 确认摄像头采集到足够光线，或提高检测阈值。
- 安全面孔仅影响对「自己」的识别，不会阻止陌生人触发。

### 运动检测不生效？
- 调低「运动触发灵敏度」或缩小监控区域。
- 保持摄像头预览开启，即使隐藏画面也可以。

### 快捷添加应用失败？
- 使用倒计时 3 秒，确保在倒计时内切换到目标应用。
- 若是 macOS 自带应用，优先使用 Bundle ID；Windows 则提供可执行路径或 AppUserModelId。